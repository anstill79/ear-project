<!DOCTYPE html>
<html lang="en">
  <head>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Roboto&family=Rubik"
    />
    <link rel="stylesheet" href="styles.css" />
    <meta charset="UTF-8" />
    <title>Audiogram</title>
    <script
      type="module"
      src="../Svelte/src/builtComponents/HeaderOnlyNoPrint.js"
    ></script>
    <link
      rel="stylesheet"
      href="../Svelte/src/builtComponents/HeaderOnlyNoPrint.css"
    />
    <script type="module" src="./lib/index-CV1X_jHt.js"></script>
    <link rel="stylesheet" href="./lib/index-G_OqGPrv.css" />
  </head>

  <body>
    <div id="app"></div>
    <div id="section"></div>

    <div class="grid-container">
      <div
        id="PHI_box"
        class="PHI-sub-grid"
        style="
          grid-column: 1;
          grid-row: 1;
          justify-self: right;
          margin-right: 80px;
        "
      >
        <div class="PHI-sub-grid-item">Name:</div>

        <div class="PHI-sub-grid-item">
          <input type="text" id="name" />
        </div>

        <div class="PHI-sub-grid-item">Date:</div>

        <div class="PHI-sub-grid-item">
          <input type="date" />
        </div>

        <div class="PHI-sub-grid-item">AuD:</div>

        <div class="PHI-sub-grid-item">
          <input type="text" />
        </div>
      </div>

      <div class="top-controls-grid">
        <select
          name="select_transducer"
          id="select_transducer"
          style="width: 100%; font-size: 12px; padding: 0px"
          class="top-controls-button"
        >
          <option value="blank">--Transducer--</option>
          <option value="circumaural">Circumaural</option>
          <option value="insert">Insert</option>
          <option value="supraaural">Supraaural</option>
        </select>
        <button id="word_rec" class="top-controls-button">Word Rec</button>
        <select
          id="Reliability"
          name="Reliability"
          style="width: 100%; font-size: 12px; padding: 0px"
          class="top-controls-button"
        >
          <option value="blank">--Reliability--</option>
          <option value="Good">Good</option>
          <option value="Fair">Fair</option>
          <option value="Poor">Poor</option>
        </select>

        <button id="command_palette" class="top-controls-button">
          Command Palette
        </button>
      </div>

      <div class="spacer3" style="grid-column: 1/-1">
        <hr />
      </div>

      <div class="sub-head-controls" style="grid-column: 1">
        <h3 style="padding-right: 55px">Right:</h3>

        <button id="AC_button" class="button_T" style="align-self: center">
          AC
        </button>
      </div>

      <div
        class="sub-head-controls"
        style="grid-column: 2; justify-self: left; padding-left: 5px"
      >
        <button id="BC_button" class="button_T" style="align-self: center">
          BC
        </button>
        <h3 style="padding-left: 85px">Left:</h3>
      </div>

      <div class="grid-item" style="grid-column: 1; justify-self: right">
        <canvas
          id="audiogram_R"
          class="crosshair"
          style="height: 350px; width: 350px"
        >
        </canvas>
      </div>

      <div class="grid-item" style="grid-column: 2; justify-self: left">
        <canvas
          id="audiogram_L"
          class="crosshair"
          style="height: 350px; width: 350px"
        >
        </canvas>
      </div>

      <div class="spacer2" style="grid-column: 1"></div>

      <div class="grid-item right-position no-print" style="grid-column: 1">
                <button id="mask_right" class="button_R" style="width: 50px; margin: -2px;">
          Mask All
        </button>
        <button
        data-ear="R"
        data-index="0"
        data-masking="true"
          class="button_R_two masking"
        >
          M
        </button>
        <button 
        data-ear="R"
        data-index="1"
        data-masking="true" class="button_R masking">
          M
        </button>
        <button onClick="" class="invisible">..</button>
        <button 
        data-ear="R"
        data-index="3"
        data-masking="true" class="button_R masking">
          M
        </button>
        <button
        data-ear="R"
        data-index="4"
        data-masking="true"
          class="button_R_two masking"
        >
          M
        </button>
        <button 
        data-ear="R"
        data-index="5"
        data-masking="true" class="button_R masking">
          M
        </button>
        <button
        data-ear="R"
        data-index="6"
        data-masking="true"
          class="button_R_two masking"
        >
          M
        </button>
        <button 
        data-ear="R"
        data-index="7"
        data-masking="true" class="button_R masking">
          M
        </button>
        <button
        data-ear="R"
        data-index="8"
        data-masking="true"
          class="button_R_two masking"
        >
          M
        </button>
        <button 
        data-ear="R"
        data-index="9"
        data-masking="true" class="button_R masking">
          M
        </button>
        <button
        data-ear="R"
        data-index="10"
        data-masking="true"
          class="button_R_two masking"
        >
          M
        </button>
        <button 
        data-ear="R"
        data-index="11"
        data-masking="true" class="button_R masking">
          M
        </button>
      </div>

      <div class="grid-item no-print" style="grid-column: 2; justify-self: left;">
      <button id="mask_left" class="button_L" style="width: 50px; margin: -2px; justify-self: left;">
          Mask All
        </button>
        <button
        
        data-ear="L"
        data-index="0"
        data-masking="true"
          class="button_L_two masking"
        >
          M
        </button>
        <button 
        data-ear="L"
        data-index="1"
        data-masking="true" class="button_L masking">
          M
        </button>
        <button onClick="" class="invisible">..</button>
        <button 
        data-ear="L"
        data-index="3"
        data-masking="true" class="button_L masking">
          M
        </button>
        <button
        data-ear="L"
        data-index="4"
        data-masking="true"
          class="button_L_two masking"
        >
          M
        </button>
        <button
        data-ear="L"
        data-index="5"
        data-masking="true" class="button_L masking">
          M
        </button>
        <button
        data-ear="L"
        data-index="6"
        data-masking="true"
          class="button_L_two masking"
        >
          M
        </button>
        <button
        
        data-ear="L"
        data-index="7"
        data-masking="true" class="button_L masking">
          M
        </button>
        <button
        
        data-ear="L"
        data-index="8"
        data-masking="true"
          class="button_L_two masking"
        >
          M
        </button>
        <button 
        
        data-ear="L"
        data-index="9"
        data-masking="true" class="button_L masking">
          M
        </button>
        <button
        data-ear="L"
        data-index="10"
        data-masking="true"
          class="button_L_two masking"
        >
          M
        </button>
        <button 
        data-ear="L"
        data-index="11"
        data-masking="true" class="button_L masking">
          M
        </button>
      </div>
      <div class="spacer2" style="grid-column: 1"></div>

      <div class="grid-item right-position no-print" style="grid-column: 1">
        <button data-ear="R" data-index="0" class="button_R_two NR">
          NR
        </button>
        <button data-ear="R" data-index="1"  class="button_R NR">
          NR
        </button>
        <button onClick="" class="invisible">..</button>
        <button  data-ear="R" data-index="3"  class="button_R NR">
          NR
        </button>
        <button  data-ear="R" data-index="4"  class="button_R_two NR">
          NR
        </button>
        <button  data-ear="R" data-index="5"  class="button_R NR">
          NR
        </button>
        <button data-ear="R" data-index="6" class="button_R_two NR">
          NR
        </button>
        <button  data-ear="R" data-index="7"  class="button_R NR">
          NR
        </button>
        <button  data-ear="R" data-index="8"  class="button_R_two NR">
          NR
        </button>
        <button  data-ear="R" data-index="9"  class="button_R NR">
          NR
        </button>
        <button  data-ear="R" data-index="10"  class="button_R_two NR">
          NR
        </button>
        <button  data-ear="R" data-index="11"  class="button_R NR">
          NR
        </button>
      </div>

      <div class="grid-item left-position no-print" style="grid-column: 2;">
        <button  data-ear="L" data-index="0"  class="button_L_two NR">
          NR
        </button>
        <button
           data-ear="L" data-index="1" 
          class="button_L NR"
          style="left: 433px; top: 395px"
        >
          NR
        </button>
        <button onClick="" class="invisible">..</button>
        <button data-ear="L" data-index="3" 
          class="button_L NR"
          style="left: 481px; top: 395px"
        >
          NR
        </button>
        <button data-ear="L" data-index="4" 
          class="button_L_two NR"
          style="left: 505px; top: 395px"
        >
          NR
        </button>
        <button data-ear="L" data-index="5" 
          class="button_L NR"
          style="left: 530px; top: 395px"
        >
          NR
        </button>
        <button data-ear="L" data-index="6" 
          class="button_L_two NR"
          style="left: 554px; top: 395px"
        >
          NR
        </button>
        <button data-ear="L" data-index="7" 
          class="button_L NR"
          style="left: 578px; top: 395px"
        >
          NR
        </button>
        <button data-ear="L" data-index="8" 
          class="button_L_two NR"
          style="left: 603px; top: 395px"
        >
          NR
        </button>
        <button data-ear="L" data-index="9" 
          class="button_L NR"
          style="left: 627px; top: 395px"
        >
          NR
        </button>
        <button data-ear="L" data-index="10" 
          class="button_L_two NR"
          style="left: 651px; top: 395px"
        >
          NR
        </button>
        <button data-ear="L" data-index="11" 
          class="button_L NR"
          style="left: 675px; top: 395px"
        >
          NR
        </button>
      </div>

      <div class="spacer2" style="grid-column: 1"></div>
      <div
        class="bar_R grid-item right-position"
        style="grid-column: 1; padding-right: 5px"
      >
        <canvas id="change_R"> </canvas>
      </div>

      <div
        class="bar_L grid-item left-position"
        style="grid-column: 2; padding-right: 5px"
      >
        <canvas id="change_L"> </canvas>
      </div>

      <div
        style="grid-column: 1; justify-self: right; padding-right: 223px"
        class="no-print"
      >
        <button
          id="copy_ear_right"
          class="button_R"
          style="width: 80px; transition-duration: 0.9s"
        >
          Copy R &gt; L
        </button>
      </div>

      <div
        style="grid-column: 2; justify-self: left; padding-left: 257px"
        class="no-print"
      >
        <button
          id="copy_ear_left"
          class="button_L"
          style="width: 80px; transition-duration: 0.9s"
        >
          Copy R &lt; L
        </button>
      </div>

      <div class="word-rec-simple">
        <div>Right</div>
        <div>Left</div>
        <div style="grid-column: 1 / span 2; justify-self: center">SRT</div>

        <div
          id="SRT_right_simple"
          class="word-rec-simple-item-right"
          style="grid-row: 3; grid-column: 1"
        ></div>
        <div
          id="SRT_left_simple"
          class="word-rec-simple-item-left"
          style="grid-row: 3; grid-column: 2"
        >
          125 dB
        </div>

        <div style="grid-column: 1 / span 2; justify-self: center">
          Word Rec
        </div>

        <div
          id="WR_right_simple"
          class="word-rec-simple-item-right"
          style="grid-column: 1; grid-row: 5"
        ></div>
        <div
          id="WR_left_simple"
          class="word-rec-simple-item-left"
          style="grid-column: 2; grid-row: 5"
        >
          58 %
        </div>
      </div>

      <div class="legend-table-container">
        <table>
          <tr>
            <th style="width: 70px; font-style: italic">Legend:</th>
            <th>Right</th>
            <th>Left</th>
          </tr>

          <tr id="ACnormal" style="display: none">
            <td>Air Conduction (AC)</td>
            <td>O</td>
            <td>X</td>
          </tr>
          <tr id="ACmasked" style="display: none">
            <td>AC masked</td>
            <td>△</td>
            <td>□</td>
          </tr>
          <tr id="BCnormal" style="display: none">
            <td>Bone Conduction (BC)</td>
            <td>&lt;</td>
            <td>&gt;</td>
          </tr>
          <tr id="BCmasked" style="display: none">
            <td>BC masked</td>
            <td>[</td>
            <td>]</td>
          </tr>
          <tr id="NR" style="display: none">
            <td>No response</td>
            <td>↙</td>
            <td>↘</td>
          </tr>
          <tr id="previousLegend" style="display: none">
            <td id="previous_dateContent">Previous</td>
            <td colspan="2">●---●</td>
          </tr>
        </table>
      </div>

      <!--end of container-->
    </div>

    <!-- The Modal, word rec-->
    <div id="WR_modal" class="WR-modal">
      <!-- Modal content -->
      <div id="WR_modal_content" class="WR-modal-content">
        <div class="word-rec-advanced">
          <div style="grid-column: 2; padding: 10px">Right</div>
          <div style="grid-column: 4; padding: 10px">Left</div>

          <div id="PTA_R_forWR" style="grid-row: 2; grid-column: 1"></div>
          <div id="PTA_L_forWR" style="grid-row: 2; grid-column: 7"></div>

          <div style="grid-row: 2; grid-column: 2">
            <input
              type="number"
              id="SRT_right_advanced"
              class="word-rec-advanced-item-right"
              step="5"
              min="0"
              max="120"
              onclick="calcMasking()"
              onblur="calcMasking()"
              value="90"
            />
          </div>
          <div style="grid-column: 2 / span 3; grid-row: 2; margin: auto">
            SRT
          </div>
          <div style="grid-row: 2; grid-column: 4">
            <input
              type="number"
              id="SRT_left_advanced"
              class="word-rec-advanced-item-left"
              step="5"
              min="0"
              max="120"
              onclick="calcMasking()"
              onblur="calcMasking()"
            />
          </div>

          <div class="labels" style="grid-row: 3; grid-column: 1">masking</div>
          <div style="grid-row: 3; grid-column: 3; margin-bottom: 20px">
            <input
              type="number"
              id="SRT_right_masking"
              class="word-rec-advanced-item-right word-rec-sub-item"
              style="color: black; border-color: black"
              step="5"
              min="0"
              max="120"
            />
          </div>

          <div style="grid-row: 3; grid-column: 5">
            <input
              type="number"
              id="SRT_left_masking"
              class="word-rec-advanced-item-left word-rec-sub-item"
              style="color: black; border-color: black"
              step="5"
              min="0"
              max="120"
            />
          </div>

          <div class="labels" style="grid-row: 3; grid-column: 6">masking</div>

          <div
            style="
              grid-column: 2 / span 3;
              justify-self: center;
              grid-row: 4;
              margin: auto;
            "
          >
            Word Rec
          </div>

          <div
            id="WR_right_advanced"
            class="word-rec-advanced-item-right"
            style="grid-column: 2; grid-row: 4"
          ></div>
          <div
            id="WR_left_advanced"
            class="word-rec-advanced-item-left"
            style="grid-column: 4; grid-row: 4"
          >
            58 %
          </div>

          <div class="labels" style="grid-column: 1; grid-row: 5">
            pres. level
          </div>

          <div style="grid-column: 2; grid-row: 5">
            <input
              type="number"
              id="WR_right_pres_level"
              class="word-rec-advanced-item-right word-rec-sub-item"
              step="5"
              min="0"
              max="120"
              onclick="calcMasking()"
              onblur="calcMasking()"
            />
          </div>

          <div style="grid-column: 4; grid-row: 5">
            <input
              type="number"
              id="WR_left_pres_level"
              class="word-rec-advanced-item-left word-rec-sub-item"
              step="5"
              min="0"
              max="120"
              onclick="calcMasking()"
              onblur="calcMasking()"
            />
          </div>

          <div class="labels" style="grid-column: 6; grid-row: 5">
            pres. level
          </div>

          <div class="labels" style="grid-column: 1; grid-row: 6">masking</div>

          <div style="grid-column: 3; grid-row: 6">
            <input
              type="number"
              id="WR_right_mask_level"
              class="word-rec-advanced-item-right word-rec-sub-item"
              style="color: black; border-color: black"
              step="5"
              min="0"
              max="120"
            />
          </div>

          <div style="grid-column: 5; grid-row: 6">
            <input
              type="number"
              id="WR_left_mask_level"
              class="word-rec-advanced-item-left word-rec-sub-item"
              style="color: black; border-color: black"
              step="5"
              min="0"
              max="120"
            />
          </div>

          <div class="labels" style="grid-column: 6; grid-row: 6">masking</div>

          <div class="labels" style="grid-row: 7; grid-column: 1">list</div>
          <div
            id="WR_right_list"
            class="word-rec-advanced-item-right word-rec-sub-item"
            style="
              grid-row: 7;
              grid-column: 2 / span 2;
              width: 80px;
              justify-self: left;
            "
          >
            NU-6 List 1A
          </div>
          <div
            id="WR_left_list"
            class="word-rec-advanced-item-left word-rec-sub-item"
            style="
              grid-row: 7;
              grid-column: 4 / span 2;
              width: 80px;
              justify-self: right;
            "
          >
            NU-6 List 2A
          </div>
          <div class="labels" style="grid-row: 7; grid-column: 6">list</div>

          <div style="grid-row: 9; grid-column: 1 / span 5">
            <label
              for="WR_mode"
              class="labels"
              style="text-align: right; margin-top: 2px"
            >
              Mode:
            </label>
            <select name="WR_mode" id="WR_mode">
              <option value="">--</option>
              <option value="recorded">Recorded</option>
              <option value="live voice">Live Voice</option>
            </select>
          </div>

          <div style="grid-row: 10; grid-column: 1 / span 4">
            <label
              for="calc_WR_masking"
              class="labels"
              style="width: 140px; text-align: right; margin-top: 2px"
              >Calculate masking levels:</label
            >
            <input
              type="checkbox"
              id="calc_WR_masking_please"
              name="calc_WR_masking"
            />
          </div>
        </div>
      </div>
    </div>

    <!-- Command Palette modal-->
    <div
      id="command_modal"
      class="command-modal"
      style="background-color: transparent"
    >
      <!-- Modal content -->

      <div id="command_modal_content" class="command-modal-content">
        <div style="grid-column: 1 / span 3">
          <h3 style="font-weight: bold">Command Palette</h3>
        </div>
        <div style="grid-column: 1; grid-row: 2">Shade Norm:</div>
        <div style="grid-column: 2; grid-row: 2">
          <button id="shade_norm_on" class="toggle-button-enabled">On</button>
        </div>
        <div style="grid-column: 3; grid-row: 2">
          <button id="shade_norm_off" class="toggle-button-disabled">
            Off
          </button>
        </div>

        <div style="grid-column: 1; grid-row: 3">Shade Loss:</div>
        <div style="grid-column: 2; grid-row: 3">
          <button id="shadeLossOn" class="toggle-button-enabled">On</button>
        </div>
        <div style="grid-column: 3; grid-row: 3">
          <button id="shadeLossOff" class="toggle-button-disabled">Off</button>
        </div>
        <div style="grid-column: 1; grid-row: 4">Crosshair:</div>
        <div style="grid-column: 2; grid-row: 4">
          <button id="crosshairOn" class="toggle-button-enabled">On</button>
        </div>
        <div style="grid-column: 3; grid-row: 4">
          <button id="crosshairOff" class="toggle-button-disabled">Off</button>
        </div>
        <div style="grid-column: 1; grid-row: 5">PTA:</div>
        <div style="grid-column: 2; grid-row: 5">
          <button id="annotatePTAon" class="toggle-button-enabled">On</button>
        </div>
        <div style="grid-column: 3; grid-row: 5">
          <button id="annotatePTAoff" class="toggle-button-disabled">
            Off
          </button>
        </div>
        
          <label for="secondary_data">Secondary Data</label>
          <select id="secondary_data">
            <option>Prev. Results</option>
            <option>Other Ear</option>
            <option>None</option>
          </select>
          <div style="grid-column: 2 / span 2; grid-row: 6">
            <button
            id="copy_data"
            class="top-controls-button"
            style="height: 20px"
            >
            Copy Data
          </button>
        </div>
        
        <div style="grid-column: 2 / span 2; grid-row: 7">
          <button id="print" class="top-controls-button" style="height: 20px">
            Print
          </button>
        </div>
        <div style="grid-column: 2 / span 2; grid-row: 8">
          <button
          id="save_image"
          class="top-controls-button"
          style="height: 20px"
          >
          DL Image
        </button>
      </div>
      <div style="grid-column: 1; grid-row: 9">WR defaults:</div>
      <div style="grid-column: 2 / span 2; grid-row: 9; justify-self: center">
        <input
        type="number"
        step="5"
        id="default_WR_level_R"
        style="height: 20px; width: 30px"
        />
      </div>
      
      <div style="grid-column: 1; grid-row: 10">Default transd.:</div>
      
      <div style="grid-column: 2 / span 2; grid-row: 10">
        <select
        name="default_transducer"
        id="default_transducer"
        style="width: 100%; font-size: 12px; padding: 0px"
        class="top-controls-button"
        >
        <option value="blank">--Transducer--</option>
        <option value="circumaural">Circumaural</option>
        <option value="insert">Insert</option>
        <option value="supraaural">Supraaural</option>
      </select>
    </div>
    <div style="grid-column: 2 / span 2; grid-row: 11">
      <button class="top-controls-button" style="height: 20px">
        Save Defaults
      </button>
    </div>
  </div>
      </div>
    </div>
    
<!-- <script src="lib/chartjs391.js"></script> -->

    <!-- <script src="lib/annotation130.js"></script> -->

    <!-- <script src="lib/datalabels200.js"></script> -->

    <!-- <script src="lib/crosshair200.js"></script> -->

    <script type="module" src="audiogram.js"></script>
    <!-- Cloudflare Web Analytics --><script defer src='https://static.cloudflareinsights.com/beacon.min.js' data-cf-beacon='{"token": "baa96b76d0cf468ba91b4d8b9a4c561b"}'></script><!-- End Cloudflare Web Analytics -->
  </body>
</html>
